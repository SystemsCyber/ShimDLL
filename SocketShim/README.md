# SocketRP1210Shim

## Overview
SocketRP1210Shim is a middleware software tool developed for vehicle diagnostics cybersecurity research, particularly for heavy vehicles using RP1210 compliant vehicle diagnostic adapters (VDAs). It acts as a shim layer between diagnostic software and VDA's device driver, enabling analysis and manipulation of diagnostic communications.

## Components
1. **ShimDLL Client (ShimDLL Client.c)**:
   - A C-based client that interfaces with the VDA's DLL and diagnostic software.
   - Responsible for intercepting and redirecting diagnostic commands and data.
   - Uses Windows sockets for communication with the server component.

2. **Echo Service (echo_service.c)**:
   - A multi-threaded UDP echo server written in C.
   - Echoes received diagnostic data back to the sender, facilitating testing and debugging.
   - Runs on Windows, utilizing Winsock for network communication.

3. **SocketRp1210Server (SocketRp1210Server.py)**:
   - A Python-based server handling socket communications from the ShimDLL Client.
   - Capable of manipulating diagnostic data in transit.
   - Implements logging and data change functionalities based on predefined criteria.

## Installation
1. **Requirements**:
   - Windows operating system with administrator privileges.
   - Pre-installed VDA drivers compatible with RP1210 standard.

2. **Setup**:
   - Compile the ShimDLL Client and Echo Service using a C compiler (e.g., MSVC, GCC).
   - Ensure Python is installed for running the SocketRp1210Server.
   - Configure `shim_cfg.ini` with appropriate settings for network communication and DLL paths.

## Usage
- **Running the ShimDLL Client**:
  - Load the ShimDLL Client as a DLL in diagnostic applications that use RP1210 VDAs.
  - Configure the diagnostic application to use the ShimDLL Client as the interface for VDA communication.

- **Starting the Echo Service**:
  - Execute the compiled `echo_service.exe`.
  - The service listens on configured ports and echoes received data.

- **Launching the SocketRp1210Server**:
  - Run `SocketRp1210Server.py` using Python.
  - The server processes and optionally manipulates diagnostic data between the ShimDLL Client and the diagnostic software.

## Testing and Verification
- Verify proper communication and data manipulation by observing the logs generated by the SocketRp1210Server.
- Test different diagnostic commands and monitor the responses from the Echo Service.

## Contributing
Guidelines for contributing to the SocketRP1210Shim project.

## License
This project is released under the MIT Open Source License. Refer to the LICENSE file for more details.
